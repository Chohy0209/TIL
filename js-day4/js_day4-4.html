<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

<script>
        document.addEventListener('DOMContentLoaded',()=>{

        let counter = 0
        let isConnect = false //연결상태 : 해제
        let clickCount = true //클릭 횟수 증가
        const h1 = document.querySelector('h1')
        const p = document.querySelector('#event_connect')
        const p1 = document.querySelector('#click_count')
        const connectButton = document.querySelector('#connect')
        const disconnectButton = document.querySelector('#disconnect')
        const upclickButton=document.querySelector('#upclick')
        const downclickButton=document.querySelector('#downclick')

//h1태그에서 발생되는 이벤트를 리슨할 수 있도록 리스너를 추가
//h1.addEventListener(이벤트명,이벤트발생시수행할작업)
//h1태그에서 클릭(이벤트)이 발생되면 횟수를 1증가

const listener = () => {
    if (clickCount==true && isConnect==true){
    counter++
    h1.textContent=`클릭 횟수 : ${counter}`}
    else if (clickCount==false && isConnect==true){
    counter--
    h1.textContent=`클릭 횟수 : ${counter}`}
}

//이벤트 연결 : 연결 상태를 해제 -> 연결 => 클릭시 횟수 증가
connectButton.addEventListener('click', () => {
    if(isConnect==false){
        h1.addEventListener('click', listener) //h1을 클릭할때마다 listener함수 수행
        p.textContent="이벤트 연결 상태 : 연결"
        isConnect=true
    }
})
//이벤트 제거 : 연결 상태를 연결 -> 해제 => 클릭시 횟수 변동 없음
disconnectButton.addEventListener('click', () => {
    if(isConnect==true){
        h1.removeEventListener('click', listener) //이벤트 리스너를 제거
        p.textContent="이벤트 연결 상태 : 해제"
        isConnect=false
    }
})

//클릭횟수 증가 버튼
upclickButton.addEventListener('click',()=>{
if(clickCount==false){
p1.textContent="클릭 횟수 증가"
clickCount=true
}
})

downclickButton.addEventListener('click',()=>{
if(clickCount==true){
p1.textContent="클릭 횟수 감소"
clickCount=false
}
})



})





    </script>

</head>
<body>
<h1>클릭 횟수 : 0</h1>
    <button id="connect">이벤트 연결</button>
    <button id="disconnect">이벤트 제거</button>
    <button id="upclick">클릭횟수 증가</button>
    <button id="downclick">클릭횟수 감소</button>
    <p id="event_connect">이벤트 연결 상태: 해제</p>
    <p id="click_count">클릭횟수: 증가</p>
</body>
</html>